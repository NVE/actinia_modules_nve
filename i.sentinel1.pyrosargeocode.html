<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <meta name="Author" content="GRASS Development Team">
 <meta http-equiv="content-language" content="en-us">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <title>i.sentinel1.pyrosargeocode - GRASS GIS manual</title>
 <meta name="description" content="i.sentinel1.pyrosargeocode: Pre-process and import Sentinel-1 imagery using pyroSAR / ESA SNAP">
 <meta name="keywords" content="import, raster, imagery, copernicus, sentinel, satellite, radar">
 <link rel="stylesheet" href="grassdocs.css" type="text/css">
</head>
<body bgcolor="white">
<div id="container">

<a href="file:///usr/lib/grass84/docs/html/index.html"><img src="grass_logo.png" alt="GRASS logo"></a>
<script>
// Create hamburger menu TOC HTML elements by the JavaScript
let temp = document.createElement('template');
const toc = '<ul class="toc-mobile-screen" id="toc-mobile-screen">' + 
'<li><a class="toc-item" href="#description">DESCRIPTION</a>' + 
'</li>' + 
'<li><a class="toc-item" href="#examples">EXAMPLES</a>' + 
'</li>' + 
'<li><a class="toc-item" href="#requirements">REQUIREMENTS</a>' + 
'</li>' + 
'<li><a class="toc-item" href="#see-also">SEE ALSO</a>' + 
'</li>' + 
'<li><a class="toc-item" href="#references">REFERENCES</a>' + 
'</li>' + 
'<li><a class="toc-item" href="#author">AUTHOR</a>' + 
'</li>' +
'<a class="close" href="#">' +
'<img src="./hamburger_menu_close.svg" alt="close">' +
'</a>' +
'</ul>' +
'<a class="hamburger" href="#toc-mobile-screen">' +
'<img src="./hamburger_menu.svg" alt="menu">' +
'</a>';
temp.innerHTML = toc;
const grassLogoLink = document.getElementsByTagName("img")[0];
grassLogoLink.after(temp.content);
</script>
<hr class="header">

<h2>NAME</h2>
<em><b>i.sentinel1.pyrosargeocode</b></em>  - Pre-process and import Sentinel-1 imagery using pyroSAR / ESA SNAP
<h2>KEYWORDS</h2>
<a href="file:///usr/lib/grass84/docs/html/import.html">import</a>, <a href="file:///usr/lib/grass84/docs/html/topic_raster.html">raster</a>, <a href="file:///usr/lib/grass84/docs/html/keywords.html#imagery">imagery</a>, <a href="file:///usr/lib/grass84/docs/html/keywords.html#copernicus">copernicus</a>, <a href="file:///usr/lib/grass84/docs/html/keywords.html#sentinel">sentinel</a>, <a href="file:///usr/lib/grass84/docs/html/keywords.html#satellite">satellite</a>, <a href="file:///usr/lib/grass84/docs/html/keywords.html#radar">radar</a>
<h2>SYNOPSIS</h2>
<div id="name"><b>i.sentinel1.pyrosargeocode</b><br></div>
<b>i.sentinel1.pyrosargeocode --help</b><br>
<div id="synopsis"><b>i.sentinel1.pyrosargeocode</b> [-<b>sfnedlmr</b>] <b>input</b>=<em>name</em>  [<b>output_directory</b>=<em>name</em>]   [<b>aoi</b>=<em>name</em>]  <b>elevation</b>=<em>string</em>  [<b>auxillary_data</b>=<em>string</em>[,<i>string</i>,...]]  <b>polarizations</b>=<em>string</em>[,<i>string</i>,...]  [<b>speckle_filter</b>=<em>string</em>]   [<b>nprocs</b>=<em>integer</em>]   [<b>temporary_directory</b>=<em>name</em>]   [<b>register_file</b>=<em>name</em>]   [--<b>overwrite</b>]  [--<b>help</b>]  [--<b>verbose</b>]  [--<b>quiet</b>]  [--<b>ui</b>] 
</div>

<div id="flags">
<h3>Flags:</h3>
<dl>
<dt><b>-s</b></dt>
<dd>Execute each node in graph seperately (can circumvent memory limits but takes more time)</dd>

<dt><b>-f</b></dt>
<dd>Fetch precise orbit files if possible</dd>

<dt><b>-n</b></dt>
<dd>Apply radiometric normalization</dd>

<dt><b>-e</b></dt>
<dd>If the input elevation model represents ellipsoidal heights, no Earth Gravitational Model is applied during geocoding</dd>

<dt><b>-d</b></dt>
<dd>Rescale backscatter to dB</dd>

<dt><b>-l</b></dt>
<dd>Link resulting data</dd>

<dt><b>-m</b></dt>
<dd>Link resulting data and read statistics from metadata</dd>

<dt><b>-r</b></dt>
<dd>Link resulting data and do not read statistics</dd>

<dt><b>--overwrite</b></dt>
<dd>Allow output files to overwrite existing files</dd>
<dt><b>--help</b></dt>
<dd>Print usage summary</dd>
<dt><b>--verbose</b></dt>
<dd>Verbose module output</dd>
<dt><b>--quiet</b></dt>
<dd>Quiet module output</dd>
<dt><b>--ui</b></dt>
<dd>Force launching GUI dialog</dd>
</dl>
</div>

<div id="parameters">
<h3>Parameters:</h3>
<dl>
<dt><b>input</b>=<em>name</em>&nbsp;<b>[required]</b></dt>
<dd>Input file or directory with Sentinel-1 imagery</dd>
<dd>Comma separated list of paths to Sentinel-1 SAFE files or single text file with list of Sentinel-1 SAFE files (one path per row)</dd>

<dt><b>output_directory</b>=<em>name</em></dt>
<dd>Directory where geocoded Sentinel-1 data is stored</dd>
<dd>Name for output directory where geocoded Sentinel-1 data is stored (default: ./)</dd>

<dt><b>aoi</b>=<em>name</em></dt>
<dd>Path to GeoJSON file with the Area Of Interest (aoi)</dd>
<dd>Path to GeoJSON file with the Area Of Interest (aoi)</dd>

<dt><b>elevation</b>=<em>string</em>&nbsp;<b>[required]</b></dt>
<dd>Digital elevation model to use for geocoding (either a path to a GeoTiff or a linked raster map)</dd>

<dt><b>auxillary_data</b>=<em>string[,<i>string</i>,...]</em></dt>
<dd>Auxillary data to include in the output (scatteringArea and gammaSigmaRation require the n-flag)</dd>
<dd>Options: <em>incidenceAngleFromEllipsoid, localIncidenceAngle, projectedLocalIncidenceAngle, DEM, layoverShadowMask, scatteringArea, gammaSigmaRatio</em></dd>
<dd>Default: <em>incidenceAngleFromEllipsoid,localIncidenceAngle,projectedLocalIncidenceAngle,layoverShadowMask</em></dd>

<dt><b>polarizations</b>=<em>string[,<i>string</i>,...]</em>&nbsp;<b>[required]</b></dt>
<dd>Polarizations to process</dd>
<dd>Options: <em>VV, VH</em></dd>

<dt><b>speckle_filter</b>=<em>string</em></dt>
<dd>Apply speckle filter algorithms from ESA SNAP</dd>
<dd>Options: <em>boxcar, median, frost, gamma_map, lee, refined_lee, lee_sigma, IDAN, mean</em></dd>

<dt><b>nprocs</b>=<em>integer</em></dt>
<dd>Number of threads for parallel computing</dd>
<dd>Default: <em>1</em></dd>

<dt><b>temporary_directory</b>=<em>name</em></dt>
<dd>Performance can benefit from putting temporary data on a fast storage area</dd>
<dd>Path to the directory where temporary data is stored (default: systems temporary directory)</dd>

<dt><b>register_file</b>=<em>name</em></dt>
<dd>File to be used to register results in a Space Time Raster Dataset</dd>

</dl>
</div>
<div class="toc">
<h4 class="toc">Table of contents</h4>
<ul class="toc">
    <li class="toc"><a href="#description" class="toc">DESCRIPTION</a></li>
    <li class="toc"><a href="#examples" class="toc">EXAMPLES</a></li>
    <li class="toc"><a href="#requirements" class="toc">REQUIREMENTS</a></li>
    <li class="toc"><a href="#see-also" class="toc">SEE ALSO</a></li>
    <li class="toc"><a href="#references" class="toc">REFERENCES</a></li>
    <li class="toc"><a href="#author" class="toc">AUTHOR</a></li>
</ul>
</div>
<h2><a name="description">DESCRIPTION</a></h2>

<em>i.sentinel1.pyrosargeocode</em> geocodes Sentinel-1 imagery on a user defined Digital Elevation Model (DEM)
<b>elevation</b> using ESA SNAP Sentinel-1 Tool Box (S1TBX) through the
<a href="https://pyrosar.readthedocs.io/en/latest/">pyrosar</a> library.
Sentinel-1 images will be projected to the Coordinate reference systems (CRS) of the input DEM, wich is assumed to
match the CRS of the current LOCATION. In that process, results will be aligned with and resampled to the pixels
in the input DEM.

<p>
By default, a digital elevation model with geoidal reference height is the expected input in the <b>elevation</b>
option. During geocoding ESA SNAP applies an Earth Gravitational Model (EGM) to compute ellipsoidal heights.
Users may apply a specific EGM in advance to their elevation model and use that as input, if the <b>e-flag</b>
is set. EGMs can be downloaded as GeoTiffs here: https://cdn.proj.org/ and added to the heights in the geoidal
elevation model:
<div class="code"><pre>
r.mapcalc expression="DTM_ellipsoidal=DTM+EGM"
</pre></div>

<p>
If the <b>f-flag</b> is set, a precise orbit file is fetched from ESAs web service if available (recommended).
Note that there is usually a several (~ 20) days time lag after sensing time before these files are made available.
If precise orbit files for the given scene are not available, the process will proceeed and give a warning.

<p>
<b>input</b> can be a single Sentinel-1 SAFE file (also in zipped format), a comma separated list of Sentinel-1
files or a text file with a list of Sentinel-1 files to geocode. Geocoded images are stored in GeoTIFF format
in the <b>output_directory</b> with file names following the naming convention in pyroSAR. Resulting files are
then either imported into the GRASS GIS database <em>r.in.gdal</em> or linked using <em>r.external</em>, if
the <b>l-flag</b>, <b>m-flag</b>, or <b>r-flag</b> are given.

<p>
If only a specifc extent of the Sentinel-1 images is supposed to be geocoded, the user can define
the Area of Interest <b>aoi</b> in form of a GeoJSON with a single geometry.

<p>
In the <b>nprocs</b> option, users can specify the number of parallel process to run. If more than one
Sentinel-1 scene is given in the <b>input</b> option, <b>nprocs</b> number of scenes will be processed in
parallel. Otherwise, <b>nprocs</b> defines the number of cores available to the graph processing tool (gpt)
in ESA SNAP. As geocoding is quite memory demanding, the user has to consider for the amount of memory made
available to ESA SNAP / gpt when activating parallel processing with <b>nprocs</b> > 1.

<p>
Currently, only geocoding of Sentinel-1 GRD imagery in IW <b>mode</b> and with VV or VH <b>polarization</b>
is supported.

For more information on the pyroSAR processing chain, please consult the pyroSAR manual, especially the
documentation for <a href="https://pyrosar.readthedocs.io/en/latest/api/snap.html#id2">processing with ESA SNAP</a>.

<h2><a name="examples">EXAMPLES</a></h2>

<div class="code"><pre>
i.sentinel1.pyroargeocode -dfmn input=S1A_IW_GRDH_1SDV_20200304T161544_20200304T161609_031528_03A1CB_4A98.zip \
  output_directory=./ elevation=elevation temporary_directory=/tmp speckle_filter=refined_lee \
  aoi=aoi.geojson
</pre></div>

<h2><a name="requirements">REQUIREMENTS</a></h2>
<em>i.sentinel1.pyrosargeocode</em> requires ESA SNAP to be installed with the Graph Processing tool
(gpt) available on PATH.<br>
In addition, the pyroSAR Python libraries is required which can be installed
from pypi with:
<div class="code"><pre>
pip install pyroSAR
</pre></div>

<h2><a name="see-also">SEE ALSO</a></h2>
<a href="file:///usr/lib/grass84/docs/html/i.sentinel1.gdargeocode.html">i.sentinel1.gdargeocode</a>

<h2><a name="references">REFERENCES</a></h2>

<ul>
<li><a href="https://pyrosar.readthedocs.io/en/latest/">pyroSAR</a> documentation</li>
<li>J. Truckenbrodt, F. Cremer, I. Baris, and J. Eberle. Pyrosar: a framework for large-scale sar satellite
data processing. In P. Soille, S. Loekken, and S. Albani (editors): Big Data from Space, 197–200.
Luxembourg, 2019. Publications Office of the European Union.
<a href="https://op.europa.eu/en/publication-detail/-/publication/7075ed48-3a4d-11e9-8d04-01aa75ed71a1">doi:10.2760/848593</a></li>
<li>Truckenbrodt J, Freemantle T, Williams C, Jones T, Small D, Dubois C, Thiel C, Rossi C, Syriou A, Giuliani G. 2019:
Towards Sentinel-1 SAR Analysis-Ready Data: A Best Practices Assessment on Preparing Backscatter Data for the Cube.
Data 2019 4(3):93. <a href="https://www.mdpi.com/2306-5729/4/3/93">https://doi.org/10.3390/data4030093</a></li>
</ul>

<h2><a name="author">AUTHOR</a></h2>

Stefan Blumentrath
<h2>SOURCE CODE</h2>
<p>
  Available at:
  <a href="">i.sentinel1.pyrosargeocode source code</a>
  (<a href="">history</a>)
</p>
<p>
  Accessed: Friday Oct 18 12:19:36 2024
</p>
<hr class="header">
<p>
<a href="file:///usr/lib/grass84/docs/html/index.html">Main index</a> |
<a href="file:///usr/lib/grass84/docs/html/imagery.html">Imagery index</a> |
<a href="file:///usr/lib/grass84/docs/html/topics.html">Topics index</a> |
<a href="file:///usr/lib/grass84/docs/html/keywords.html">Keywords index</a> |
<a href="file:///usr/lib/grass84/docs/html/graphical_index.html">Graphical index</a> |
<a href="file:///usr/lib/grass84/docs/html/full_index.html">Full index</a>
</p>
<p>
&copy; 2003-2024
<a href="https://grass.osgeo.org">GRASS Development Team</a>,
GRASS GIS 8.4.0 Reference Manual
</p>

</div>
</body>
</html>
